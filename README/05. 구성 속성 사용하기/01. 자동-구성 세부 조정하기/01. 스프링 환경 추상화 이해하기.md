# 5.1.1 스프링 환경 추상화 이해하기
- 스프링 환경 추상화 (environment abstraction)는 구성 가능한 모든 속성을 한 곳에서 관라하는 개념. 즉, 속성의 근원을 추상화화여 각 속성을 필요로 하는 빈이 스프링 자체에서 해당 속성을 사용할 수 있게 해준다.
- 스프링 환경에서는 다음과 같은 속성의 근원으로부터 원천 속성을 가져온다.
    - JVM 시스템 속성
    - 운영체제의 환경 변수
    - 명령행 인자 (command-line argument)
    - 애플리케이션의 속성 구성 파일
- 그런 다음에 스프링 환경에서는 이 속성들을 한 군데로 모은 후 각 속성이 주입되는 스프링 빈을 사용할 수 있게 해 준다.
- 스프링 부트에 의해 자동으로 구성되는 빈들은 스프링 환경으로부터 가져온 속성들을 사용해서 구성될 수 있다. 간단한 예로, 애플리케이션을 실행해 주는 서블릿 컨테이너가 8080 기본 포트가 아닌 다른 포트로 작동하게 한다면
다음과 같이 다른 포트 값을 갖는 server.port 속성을 application.properties 파일에 지정하면 된다.
```properties
server.port=9090
```
- 구성 속성을 설정할 때 YAML (YAML Ain't Markup Language)을 주로 사용한다면 application.properties 대신 application.yml에 server.port 값을 설정하면 된다.
```yaml
server:
  port: 9090
```
- 또한 애플리케이션을 시작할 때 명령행 인자로 server.port 속성을 지정할 수도 있다.
```
$ java -jar tacocloud-0.0.5-SNAPSHOR.jar --server.port=9090
```
- 만일 애플리케이션에서 항상 특정 포트를 사용하게 하고 싶다면 다음과 같이 운영체제 환경 변수에 설정하면 된다.
```
$ export SERVER_PORT=9090
```
- 단 환경 변수로 속성을 설정할 때는 속성 이름의 형태가 약간 달라질 수 있다. (운영체제별로) 그러나 스프링에서 SERVER_PORT를 server.port로 인식 가능해 문제가 되지 않음.


- 이처럼 구성 속성을 설정하는 방법에는 여러 가지가 있다. 스프링 빈이 동작하는 방법을 변경하고 조정하기 위해 사용할 수 있는 구성 속성에는 수백 가지가 있다. 방금 보았던 server.port도 그중 하나.
- 사용 가능한 모든 구성 속성을 살펴보는 것은 불가능하지만 그중에서 많이 사용하는 가장 유용한 구성 속성들을 살펴보자. 먼저 자동-구성된 데이터 소스를 조정할 수 있는 속성들부터 알아보자.

