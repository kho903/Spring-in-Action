# 5.3.2 프로파일 활성화하기
- 프로파일 특정 속성들의 설정은 해당 프로파일이 활성화되어야 유효함. spring.profiles.active 속성에 지정하여 활성화할 수 있다. 예를 들어, 다음과 같이 application.yml에 설정 가능.
```yaml
spring:
  profiles:
    active:
      - prod
```
- 그러나 이것은 가장 좋지 않은 프로파일 활성화 방법. 만일 application.yml에서 활성화 프로파일을 설정하면 해당 프로파일이 기본 프로파일이 됨. 따라서 프로덕션 환경 특정 속성을 개발 속성과 분리시키기 위해
프로파일을 사용하는 장점을 전혀 살릴 수 없게 된다. 그러므로 이 방법 대신 환경 변수를 사용해 활성화 프로파일을 설정할 것을 권한다.
- 이때는 다음과 같이 프로덕션 환경의 SPRING_PROFILES_ACTIVE를 설정할 수 있다.
```
$ export SPRING_PROFILES_ACTIVE=prod
```
- 이렇게 하면 해당 컴퓨터에 배포되는 어떤 애플리케이션에서도 prod 프로파일이 활성화된다. 따라서 이 프로파일의 속성이 기본 프로파일의 동일한 속성보다 더 높은 우선순위를 갖도록 적용될 것이다.
- 만일 실행 가능한 JAR 파일로 애플리케이션을 실행한다면, 다음과 같이 명령행 인자로 활성화 프로파일을 설정할 수도 있다.
```
$ java -jar taco-cloud.jar --spring.profiles.active=prod
```
- spring.profiles.active 속성에는 여러 개의 프로파일이 포함될 수 있다. 즉, 하나 이상의 활성화 프로파일을 지정할 수 있다는 의미. 이런 경우, 환경 변수를 사용해서 프로파일을 활성화할 때는 쉼표(,)를
사용해서 지정.
```
$ export SPRING_PROFILES_ACTIVE=prod,audit,ha
```
- YAML에서는 다음과 같이 지정.
```yaml
spring:
  profiles:
    active:
      - prod
      - audit
      - ha
```
- 만일 스프링 애플리케이션을 클라우드 파운드리 (Cloud Foundry)에 배포할 때는 cloud라는 이름의 프로파일이 자동으로 활성화된다는 것을 알아 두자. 따라서 클라우드 파운드리가 우리의 프로덕션 환경이라면
cloud 프로파일 아래에 프로덕션 환경의 특정 속성들을 지정해야 한다.


- 그러나 스프링 애플리케이션에서 조건별로 구성 속성을 설정할 때만 프로파일이 유용한 것은 아니다.
- 다음으로 활성화 프로파일에 빈을 선언하는 방법을 알아보자.

